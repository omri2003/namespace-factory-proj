apiVersion: argoproj.io/v1alpha1
kind: AppProject
metadata:
  name: project-{{ .Values.team }}-{{ .Values.env }}
  namespace: argocd
spec:
  description: "Governance for Team {{ .Values.team }} in {{ .Values.env }}"
  sourceRepos: ["*"]
  destinations:
  - namespace: '{{ .Values.team }}-*-{{ .Values.env }}'
    server: https://kubernetes.default.svc
  clusterResourceWhitelist: [] 
  namespaceResourceWhitelist:
  - group: '*'
    kind: '*'
